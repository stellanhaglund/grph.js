var Grph=function(){"use strict";function t(t){this.canvas=t.canvas,this.ctx=this.canvas.getContext("2d"),this.data=t.data,this.resize()}function i(i){t.call(this,i)}function h(i){t.call(this,i)}function e(t){switch(t.type){case"pie":return new i(t);case"bar":return new h(t)}}return t.prototype.resize=function(){this.width=this.canvas.parentElement.clientWidth,this.height=this.canvas.parentElement.clientHeight,this.canvas.width=2*this.width,this.canvas.height=2*this.height,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px",this.ctx.scale(2,2),this.draw()},i.prototype=Object.create(t.prototype),i.prototype.draw=function(){var t=this,i=this.data.reduce(function(t,i){return t+i.count},0),h=-.5*Math.PI,e=this.width/2,s=this.height/2;this.data.forEach(function(a){var c=a.count/i*2*Math.PI;t.ctx.beginPath(),t.ctx.arc(e,s,t.height/10+t.width/10,h,h+c),h+=c,t.ctx.lineTo(e,s),t.ctx.fillStyle=a.color,t.ctx.fill()})},h.prototype=Object.create(t.prototype),h.prototype.draw=function(){var t=[];this.data.forEach(i=>{t.push(i.count)});var i=Math.max(...t),h=this.height-20,e=Math.round(h/4);this.ctx.strokeStyle="#ddd",this.ctx.beginPath();for(o=1;o<=4;o++){var s=e*o-e,a=Math.round(i/o);this.ctx.fillText(a,10,s+10+4),this.ctx.moveTo(60,s+10),this.ctx.lineTo(this.width-10,s+10)}this.ctx.stroke();var c=this.data.length,n=(this.width-60)/c,r=this.height/i;this.ctx.beginPath();for(var o=0;o<c;o++){var l=n*o+60,d=r*this.data[o].count,s=this.height+10-d;this.ctx.fillStyle="#C380EF",this.ctx.rect(l,s,n/3,d),this.ctx.fill(),this.ctx.strokeStyle="#A015FC",this.ctx.lineWidth=5}this.ctx.stroke()},e}();
